var e=Object.defineProperty,n=Object.defineProperties,t=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,r=(n,t,a)=>t in n?e(n,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[t]=a,o=(e,n)=>{for(var t in n||(n={}))s.call(n,t)&&r(e,t,n[t]);if(a)for(var t of a(n))l.call(n,t)&&r(e,t,n[t]);return e},c=(e,a)=>n(e,t(a));import{R as i,r as d,t as m,d as u,a as p}from"./vendor.2edfba3a.js";const y=({amount:e,description:n})=>i.createElement(i.Fragment,null,i.createElement("div",{className:"amount"},i.createElement("span",null,"$ ",e),i.createElement("p",null,n)));const C=({isError:e,lineWidth:n,children:t,storeName:a,storeAddress:s,storeIcon:l,orderId:r,isSuccess:o})=>i.createElement(i.Fragment,null,i.createElement("div",{className:"store-name"},i.createElement("span",null,"Invoice #",r),i.createElement("p",null,t||i.createElement(i.Fragment,null,"Payment to"," ",s?i.createElement("a",{href:s},a||"store"):i.createElement(i.Fragment,null,a||"store")))),i.createElement("div",{className:"store-logo"},i.createElement("img",{src:l||"https://wintexpro.github.io/ton-accept/assets/store.c355bf53.png",alt:"store"})),i.createElement("div",{className:`line${e?" error":""}${o?" success":""}`},e||o?null:i.createElement("span",{style:{width:`${n}px`}}))),v=({storeName:e,storeAddress:n,storeIcon:t,orderId:a,description:s,amount:l,onCancel:r,onConnect:o})=>i.createElement(i.Fragment,null,i.createElement("div",{className:"invoice"},i.createElement(C,{lineWidth:279,orderId:a,storeAddress:n,storeName:e,storeIcon:t}),i.createElement(y,{amount:l,description:s})),i.createElement("div",{className:"cryptocurrencies with-separator"},i.createElement("p",null,"TON Accept uses Crystal Wallet extension to connect to FreeTON blockchain. Please click Connect wallet and select the account you would like to pay from.")),i.createElement("div",{className:"buttons"},i.createElement("a",{className:"button transparent",onClick:r},"Cancel"),i.createElement("a",{className:"button",onClick:o},"Connect Crystal Wallet"))),E=({orderId:e,storeIcon:n,onClose:t,onGoBack:a})=>i.createElement(i.Fragment,null,i.createElement("div",{className:"invoice"},i.createElement(C,{lineWidth:279,orderId:e,storeIcon:n,isError:!0},"Error")),i.createElement("div",{className:"cryptocurrencies"},i.createElement("div",{className:"subtitle"},i.createElement("span",null,"The payment has failed")),i.createElement("p",null,"Make sure you have sufficient balance to pay in the selected currency, enough gas in TON Crystals."),i.createElement("p",null,"Donâ€™t close the Crystal Wallet window until the payment completes."),i.createElement("p",null,"Click Go back to retry or Close to end the payment session.")),i.createElement("div",{className:"buttons"},i.createElement("a",{className:"button transparent",onClick:t},"Cancel"),i.createElement("a",{className:"button",onClick:a},"Go back"))),h=({storeName:e,storeAddress:n,storeIcon:t,orderId:a,onClose:s})=>i.createElement("div",{className:"widget mobile"},i.createElement("div",{className:"container"},i.createElement("div",{className:"header"},i.createElement("div",{className:"logo"},i.createElement("svg",{width:"120",height:"18",viewBox:"0 0 120 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{d:"M28.252 2.63997H37.492V4.42077H33.88V14.4H31.864V4.42077H28.252V2.63997Z",fill:"white"}),i.createElement("path",{d:"M43.2366 14.5512C42.4526 14.5512 41.7358 14.428 41.0862 14.1816C40.4478 13.924 39.899 13.56 39.4398 13.0896C38.9918 12.608 38.6446 12.02 38.3982 11.3256C38.1518 10.6312 38.0286 9.84157 38.0286 8.95677V8.08317C38.0286 7.20957 38.1518 6.42557 38.3982 5.73117C38.6558 5.03677 39.0086 4.45437 39.4566 3.98397C39.9158 3.50237 40.4646 3.13277 41.103 2.87517C41.7526 2.61757 42.4638 2.48877 43.2366 2.48877C44.0206 2.48877 44.7318 2.61757 45.3702 2.87517C46.0198 3.12157 46.5686 3.48557 47.0166 3.96717C47.4758 4.44877 47.8286 5.03677 48.075 5.73117C48.3214 6.41437 48.4446 7.19837 48.4446 8.08317V8.95677C48.4446 9.83037 48.3158 10.6144 48.0582 11.3088C47.8118 12.0032 47.459 12.5912 46.9998 13.0728C46.5518 13.5544 46.003 13.924 45.3534 14.1816C44.715 14.428 44.0094 14.5512 43.2366 14.5512ZM43.2366 12.6696C44.155 12.6696 44.8998 12.3616 45.471 11.7456C46.0422 11.1184 46.3278 10.1888 46.3278 8.95677V8.08317C46.3278 7.47837 46.2494 6.94637 46.0926 6.48717C45.947 6.01677 45.7342 5.63037 45.4542 5.32797C45.1854 5.01437 44.8606 4.77917 44.4798 4.62237C44.099 4.45437 43.6846 4.37037 43.2366 4.37037C42.307 4.37037 41.5566 4.68397 40.9854 5.31117C40.4254 5.92717 40.1454 6.85117 40.1454 8.08317V8.95677C40.1454 10.1776 40.431 11.1016 41.0022 11.7288C41.5846 12.356 42.3294 12.6696 43.2366 12.6696Z",fill:"white"}),i.createElement("path",{d:"M53.2976 6.67197L52.592 5.14317V14.4H50.576V2.63997H53.3984L57.4304 10.368L58.136 11.9136V2.63997H60.152V14.4H57.3296L53.2976 6.67197Z",fill:"white"}),i.createElement("path",{d:"M73.9241 10.9896H68.8001L67.5569 14.4H66.3473L70.7153 2.63997H72.0593L76.4273 14.4H75.1841L73.9241 10.9896ZM69.2033 9.91437H73.5377L72.3449 6.67197L71.3705 3.98397L70.3961 6.67197L69.2033 9.91437Z",fill:"white"}),i.createElement("path",{d:"M81.4258 14.5176C80.8882 14.5176 80.3954 14.428 79.9474 14.2488C79.5106 14.0696 79.1298 13.812 78.805 13.476C78.4914 13.14 78.245 12.7312 78.0658 12.2496C77.8978 11.7568 77.8138 11.1968 77.8138 10.5696V9.83037C77.8138 9.21437 77.8978 8.66557 78.0658 8.18397C78.245 7.69117 78.4914 7.27677 78.805 6.94077C79.1298 6.59357 79.5106 6.33037 79.9474 6.15117C80.3954 5.97197 80.8882 5.88237 81.4258 5.88237C81.8962 5.88237 82.3106 5.94397 82.669 6.06717C83.0386 6.19037 83.3578 6.36397 83.6266 6.58797C83.9066 6.80077 84.1306 7.05277 84.2986 7.34397C84.4778 7.63517 84.6122 7.94317 84.7018 8.26797H83.5258C83.3578 7.88717 83.1114 7.56797 82.7866 7.31037C82.473 7.05277 82.0194 6.92397 81.4258 6.92397C80.709 6.92397 80.1154 7.17597 79.645 7.67997C79.1858 8.17277 78.9562 8.88957 78.9562 9.83037V10.5696C78.9562 11.0288 79.0178 11.4432 79.141 11.8128C79.2642 12.1712 79.4378 12.4736 79.6618 12.72C79.8858 12.9664 80.1434 13.1568 80.4346 13.2912C80.737 13.4144 81.0674 13.476 81.4258 13.476C82.0306 13.476 82.4898 13.3416 82.8034 13.0728C83.117 12.804 83.3578 12.4344 83.5258 11.964H84.7018C84.5338 12.7032 84.181 13.3136 83.6434 13.7952C83.1058 14.2768 82.3666 14.5176 81.4258 14.5176Z",fill:"white"}),i.createElement("path",{d:"M90.1078 14.5176C89.5702 14.5176 89.0774 14.428 88.6294 14.2488C88.1926 14.0696 87.8118 13.812 87.487 13.476C87.1734 13.14 86.927 12.7312 86.7478 12.2496C86.5798 11.7568 86.4958 11.1968 86.4958 10.5696V9.83037C86.4958 9.21437 86.5798 8.66557 86.7478 8.18397C86.927 7.69117 87.1734 7.27677 87.487 6.94077C87.8118 6.59357 88.1926 6.33037 88.6294 6.15117C89.0774 5.97197 89.5702 5.88237 90.1078 5.88237C90.5782 5.88237 90.9926 5.94397 91.351 6.06717C91.7206 6.19037 92.0398 6.36397 92.3086 6.58797C92.5886 6.80077 92.8126 7.05277 92.9806 7.34397C93.1598 7.63517 93.2942 7.94317 93.3838 8.26797H92.2078C92.0398 7.88717 91.7934 7.56797 91.4686 7.31037C91.155 7.05277 90.7014 6.92397 90.1078 6.92397C89.391 6.92397 88.7974 7.17597 88.327 7.67997C87.8678 8.17277 87.6382 8.88957 87.6382 9.83037V10.5696C87.6382 11.0288 87.6998 11.4432 87.823 11.8128C87.9462 12.1712 88.1198 12.4736 88.3438 12.72C88.5678 12.9664 88.8254 13.1568 89.1166 13.2912C89.419 13.4144 89.7494 13.476 90.1078 13.476C90.7126 13.476 91.1718 13.3416 91.4854 13.0728C91.799 12.804 92.0398 12.4344 92.2078 11.964H93.3838C93.2158 12.7032 92.863 13.3136 92.3254 13.7952C91.7878 14.2768 91.0486 14.5176 90.1078 14.5176Z",fill:"white"}),i.createElement("path",{d:"M98.7899 14.5176C97.6811 14.5176 96.8019 14.1816 96.1523 13.5096C95.5027 12.8264 95.1778 11.8464 95.1778 10.5696V9.83037C95.1778 8.56477 95.5027 7.59037 96.1523 6.90717C96.8131 6.22397 97.6923 5.88237 98.7899 5.88237C99.8875 5.88237 100.761 6.22397 101.411 6.90717C102.071 7.59037 102.402 8.56477 102.402 9.83037V10.5192H96.3203V10.5696C96.3203 11.544 96.5443 12.272 96.9923 12.7536C97.4403 13.2352 98.0395 13.476 98.7899 13.476C99.4843 13.476 100.011 13.3304 100.369 13.0392C100.739 12.748 101.007 12.384 101.175 11.9472H102.318C102.228 12.3056 102.094 12.6416 101.915 12.9552C101.735 13.2688 101.5 13.5432 101.209 13.7784C100.918 14.0024 100.571 14.1816 100.167 14.316C99.7643 14.4504 99.3051 14.5176 98.7899 14.5176ZM98.7899 6.92397C98.0619 6.92397 97.4795 7.15357 97.0427 7.61277C96.6171 8.06077 96.3763 8.70477 96.3203 9.54477H101.243C101.198 8.67117 100.951 8.01597 100.503 7.57917C100.067 7.14237 99.4955 6.92397 98.7899 6.92397Z",fill:"white"}),i.createElement("path",{d:"M108.718 14.5176C108.135 14.5176 107.62 14.4112 107.172 14.1984C106.724 13.9744 106.355 13.6328 106.063 13.1736V17.76H104.955V5.99997H105.811L105.946 7.41117C106.237 6.89597 106.612 6.51517 107.071 6.26877C107.542 6.01117 108.091 5.88237 108.718 5.88237C109.199 5.88237 109.642 5.96637 110.045 6.13437C110.448 6.30237 110.795 6.55437 111.087 6.89037C111.378 7.21517 111.602 7.62397 111.759 8.11677C111.927 8.60957 112.011 9.18077 112.011 9.83037V10.5696C112.011 11.208 111.927 11.7736 111.759 12.2664C111.602 12.7592 111.378 13.1736 111.087 13.5096C110.795 13.8456 110.448 14.0976 110.045 14.2656C109.642 14.4336 109.199 14.5176 108.718 14.5176ZM108.466 13.476C109.194 13.476 109.776 13.2408 110.213 12.7704C110.65 12.2888 110.868 11.5552 110.868 10.5696V9.83037C110.868 8.85597 110.644 8.12797 110.196 7.64637C109.759 7.16477 109.183 6.92397 108.466 6.92397C107.794 6.92397 107.228 7.15917 106.769 7.62957C106.321 8.09997 106.086 8.78877 106.063 9.69597V10.5696C106.063 11.5104 106.287 12.2328 106.735 12.7368C107.183 13.2296 107.76 13.476 108.466 13.476Z",fill:"white"}),i.createElement("path",{d:"M113.547 5.99997H115.059V3.64797H116.168V5.99997H118.419V7.00797H116.168V12.048C116.168 12.944 116.582 13.392 117.411 13.392H118.587V14.4H117.277C116.549 14.4 115.994 14.2152 115.614 13.8456C115.244 13.4648 115.059 12.9104 115.059 12.1824V7.00797H113.547V5.99997Z",fill:"white"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.90891 1.15009C4.08473 0.928688 4.35091 0.799805 4.63236 0.799805H13.8971C14.1785 0.799805 14.4447 0.928688 14.6205 1.15009L18.3264 5.81676C18.6213 6.18812 18.5919 6.72348 18.2581 7.05977L9.91982 15.4598C9.55802 15.8243 8.97141 15.8243 8.6096 15.4598L0.271363 7.05977C-0.0624492 6.72348 -0.0918824 6.18812 0.203025 5.81676L3.90891 1.15009Z",fill:"white"})))),i.createElement("div",{className:"content"},i.createElement("div",{className:"box"},i.createElement("div",{className:"invoice"},i.createElement(C,{lineWidth:0,orderId:a,storeAddress:n,storeName:e,storeIcon:t})),i.createElement("div",{className:"cryptocurrencies"},i.createElement("div",{className:"subtitle"},i.createElement("span",null,"Mobile version is not supported yet")),i.createElement("p",null,"TON Accept uses Crystal Wallet extension to connect to FreeTON. As there is yet no mobile version of Crystal Wallet, we cannot process your payment.")),i.createElement("div",{className:"buttons"},i.createElement("a",{className:"button",onClick:s},"Close")))))),w=({isSkeleton:e,storeName:n,storeAddress:t,storeIcon:a,orderId:s,description:l,amount:r,currencies:o,onCancel:c,onPay:m})=>{var u,p;const[v,E]=d.exports.useState(null==(u=o[0])?void 0:u.currency),[h,w]=d.exports.useState(null==(p=o[0])?void 0:p.currencyAddress),[f,b]=d.exports.useState([]);return d.exports.useEffect((()=>{e||b(o.reduce(((e,n,t)=>(t%3==0&&e.push([]),e[e.length-1].push(i.createElement("div",{key:n.currency,className:"currency",onClick:()=>(e=>{E(e.currency),w(e.currencyAddress)})(n)},i.createElement("div",{className:"description-logo"},i.createElement("div",{className:"description"},i.createElement("div",{className:"name with-tooltip"},i.createElement("span",null,n.currency.slice(0,4)+(n.currency.length>4?"...":"")),i.createElement("div",{className:"hidden-text"},n.currency)),i.createElement("div",{className:"type"},n.label)),i.createElement("div",{className:"logo"},i.createElement("img",{src:n.logo,alt:"currency"}))),i.createElement("div",{className:"number with-tooltip"},i.createElement("span",null,n.amount),i.createElement("div",{className:"hidden-text"},`${n.amount}`)))),e)),[]))}),[e]),d.exports.useEffect((()=>{f.length&&(()=>{const e=document.getElementsByClassName("slide"),n=document.getElementsByClassName("count")[0],t=document.getElementsByClassName("slider-nav")[0];if(e.length>1){let t=function(t){const l="prev"===t?a-1<0?e.length-1:a-1:a+1===e.length?0:a+1;for(let n=0;n<e.length;n++)e[a].classList.remove("show"),e[l].classList.add("show");a=l,s=a+1,n.textContent=`${s}/${e.length}`},a=0,s=1;const l=document.getElementsByClassName("next")[0],r=document.getElementsByClassName("prev")[0];l.addEventListener("click",(function(){t("next")})),r.addEventListener("click",(function(){t("prev")}))}else t&&t.remove();const a=document.getElementsByClassName("currency");for(let s=0;s<a.length;s++)a[s].addEventListener("click",(function(){for(let e=0;e<a.length;e++)s!==e&&a[e].classList.remove("selected");a[s]&&a[s].classList.toggle("selected")}),!1)})()}),[f.length]),i.createElement(i.Fragment,null,i.createElement("div",{className:"invoice"},i.createElement(C,{lineWidth:279,orderId:s,storeAddress:t,storeName:n,storeIcon:a}),i.createElement(y,{amount:r,description:l})),i.createElement("div",{className:"cryptocurrencies with-separator"},i.createElement("div",{className:"subtitle"},i.createElement("span",{style:e?{display:"none"}:{}},"Select the payment cryptocurrency"),i.createElement("div",{className:"slider-nav",style:e?{display:"none"}:{}},i.createElement("div",{className:"count"}),i.createElement("div",{className:"prev"},i.createElement("svg",{width:"8",height:"12",viewBox:"0 0 8 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.792893 11.7071C0.402369 11.3166 0.402369 10.6834 0.792893 10.2929L5.08579 6L0.792893 1.70711C0.402368 1.31658 0.402368 0.683417 0.792893 0.292893C1.18342 -0.0976315 1.81658 -0.0976315 2.20711 0.292893L7.20711 5.29289C7.59763 5.68342 7.59763 6.31658 7.20711 6.70711L2.20711 11.7071C1.81658 12.0976 1.18342 12.0976 0.792893 11.7071Z",fill:"#96A1A7"}))),i.createElement("div",{className:"next"},i.createElement("svg",{width:"8",height:"12",viewBox:"0 0 8 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.792893 11.7071C0.402369 11.3166 0.402369 10.6834 0.792893 10.2929L5.08579 6L0.792893 1.70711C0.402368 1.31658 0.402368 0.683417 0.792893 0.292893C1.18342 -0.0976315 1.81658 -0.0976315 2.20711 0.292893L7.20711 5.29289C7.59763 5.68342 7.59763 6.31658 7.20711 6.70711L2.20711 11.7071C1.81658 12.0976 1.18342 12.0976 0.792893 11.7071Z",fill:"#96A1A7"}))))),i.createElement("div",{className:"currencies"},i.createElement("div",{className:"slide show"},e?i.createElement(i.Fragment,null,i.createElement("div",{className:"currency"},i.createElement("div",{className:"description"},i.createElement("div",{className:"name"},i.createElement("span",null)),i.createElement("div",{className:"type"})),i.createElement("div",{className:"logo"}),i.createElement("div",{className:"number"},i.createElement("span",null))),i.createElement("div",{className:"currency"},i.createElement("div",{className:"description"},i.createElement("div",{className:"name"},i.createElement("span",null)),i.createElement("div",{className:"type"})),i.createElement("div",{className:"logo"}),i.createElement("div",{className:"number"},i.createElement("span",null))),i.createElement("div",{className:"currency"},i.createElement("div",{className:"description"},i.createElement("div",{className:"name"},i.createElement("span",null)),i.createElement("div",{className:"type"})),i.createElement("div",{className:"logo"}),i.createElement("div",{className:"number"},i.createElement("span",null)))):i.createElement(i.Fragment,null,f[0])),i.createElement(i.Fragment,null,f.slice(1).map(((e,n)=>i.createElement("div",{key:n,className:"slide"},e)))))),i.createElement("div",{className:"buttons"},i.createElement("a",{className:"button transparent",onClick:c},"Cancel"),i.createElement("a",{className:"button",onClick:()=>m(v,h)},"Pay")))},f="#todo",b="#todo",N="#todo",g="https://broxus.com/",_="https://freeton.org/",k=({isSkeleton:e,isConnected:n=!1,amount:t,currency:a,address:s,onConnect:l,onExit:r,children:o})=>{const c=[],d=s.slice(2);for(let u=0;u<4;u+=1)for(let e=0;e<4;e+=1){const n=`${d[0]}${d[4*u+16*e]}${d[4*u+16*e+1]}${d[4*u+16*e+2]}${d[63]}${d[4*u+16*e+3]}`;c.push(i.createElement("circle",{key:n,cx:10*u+3,cy:10*e+3,r:"7",fill:`#${n}`}))}const m=n&&!e?i.createElement("div",{className:"wallet connected-wallet"},i.createElement("div",{className:"amount"},t," ",a),i.createElement("a",{className:"box with-tooltip"},i.createElement("svg",{width:"24",height:"24",viewBox:"0 0 36 36",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("g",{clipPath:"url(#clip0)"},c),i.createElement("defs",null,i.createElement("clipPath",{id:"clip0"},i.createElement("rect",{width:"36",height:"36",rx:"18",fill:"white"})))),i.createElement("span",null,`${s.slice(0,6)}...${s.slice(-4)}`),i.createElement("div",{className:"hidden-text centered fix"},s)),i.createElement("a",{onClick:r},i.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.4753 14.2903H15.295H16.1146V17.5162V19.9355H11.1966L11.1967 23L9.04917 22.2799L4.11633 20.662C3.4459 20.433 3 20.2782 3 20.2782V3H4.63938C4.66196 3 4.68378 3.00459 4.70558 3.00919C4.72248 3.01275 4.73936 3.0163 4.75659 3.01772C4.76929 3.01605 4.78125 3.01267 4.79315 3.00931C4.80968 3.00464 4.8261 3 4.84424 3H13.6556H16.1146V7.83872H15.295H14.4753L14.4754 4.61267L13.6556 4.61281H9.83757H7.91803L11.1966 5.41936V18.3226H14.4753V17.5162V14.2903ZM19.153 7.26859L23 11.0644C23 11.0644 22.7522 11.3194 22.4318 11.6346L19.153 14.8605L17.7541 16.2257L17.7539 11.8709H13.6556V11.0645V10.2581H17.7539L17.7541 5.90301L19.153 7.26859Z",fill:"white"})))):i.createElement("div",{className:"wallet"},i.createElement("a",{className:"box",onClick:l},"Connect to a wallet"));return i.createElement("div",{className:"widget"+(e?" loading":"")},i.createElement("div",{className:"container"},i.createElement("div",{className:"header"},i.createElement("div",{className:"logo"},i.createElement("svg",{width:"120",height:"18",viewBox:"0 0 120 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{d:"M28.252 2.63997H37.492V4.42077H33.88V14.4H31.864V4.42077H28.252V2.63997Z",fill:"white"}),i.createElement("path",{d:"M43.2366 14.5512C42.4526 14.5512 41.7358 14.428 41.0862 14.1816C40.4478 13.924 39.899 13.56 39.4398 13.0896C38.9918 12.608 38.6446 12.02 38.3982 11.3256C38.1518 10.6312 38.0286 9.84157 38.0286 8.95677V8.08317C38.0286 7.20957 38.1518 6.42557 38.3982 5.73117C38.6558 5.03677 39.0086 4.45437 39.4566 3.98397C39.9158 3.50237 40.4646 3.13277 41.103 2.87517C41.7526 2.61757 42.4638 2.48877 43.2366 2.48877C44.0206 2.48877 44.7318 2.61757 45.3702 2.87517C46.0198 3.12157 46.5686 3.48557 47.0166 3.96717C47.4758 4.44877 47.8286 5.03677 48.075 5.73117C48.3214 6.41437 48.4446 7.19837 48.4446 8.08317V8.95677C48.4446 9.83037 48.3158 10.6144 48.0582 11.3088C47.8118 12.0032 47.459 12.5912 46.9998 13.0728C46.5518 13.5544 46.003 13.924 45.3534 14.1816C44.715 14.428 44.0094 14.5512 43.2366 14.5512ZM43.2366 12.6696C44.155 12.6696 44.8998 12.3616 45.471 11.7456C46.0422 11.1184 46.3278 10.1888 46.3278 8.95677V8.08317C46.3278 7.47837 46.2494 6.94637 46.0926 6.48717C45.947 6.01677 45.7342 5.63037 45.4542 5.32797C45.1854 5.01437 44.8606 4.77917 44.4798 4.62237C44.099 4.45437 43.6846 4.37037 43.2366 4.37037C42.307 4.37037 41.5566 4.68397 40.9854 5.31117C40.4254 5.92717 40.1454 6.85117 40.1454 8.08317V8.95677C40.1454 10.1776 40.431 11.1016 41.0022 11.7288C41.5846 12.356 42.3294 12.6696 43.2366 12.6696Z",fill:"white"}),i.createElement("path",{d:"M53.2976 6.67197L52.592 5.14317V14.4H50.576V2.63997H53.3984L57.4304 10.368L58.136 11.9136V2.63997H60.152V14.4H57.3296L53.2976 6.67197Z",fill:"white"}),i.createElement("path",{d:"M73.9241 10.9896H68.8001L67.5569 14.4H66.3473L70.7153 2.63997H72.0593L76.4273 14.4H75.1841L73.9241 10.9896ZM69.2033 9.91437H73.5377L72.3449 6.67197L71.3705 3.98397L70.3961 6.67197L69.2033 9.91437Z",fill:"white"}),i.createElement("path",{d:"M81.4258 14.5176C80.8882 14.5176 80.3954 14.428 79.9474 14.2488C79.5106 14.0696 79.1298 13.812 78.805 13.476C78.4914 13.14 78.245 12.7312 78.0658 12.2496C77.8978 11.7568 77.8138 11.1968 77.8138 10.5696V9.83037C77.8138 9.21437 77.8978 8.66557 78.0658 8.18397C78.245 7.69117 78.4914 7.27677 78.805 6.94077C79.1298 6.59357 79.5106 6.33037 79.9474 6.15117C80.3954 5.97197 80.8882 5.88237 81.4258 5.88237C81.8962 5.88237 82.3106 5.94397 82.669 6.06717C83.0386 6.19037 83.3578 6.36397 83.6266 6.58797C83.9066 6.80077 84.1306 7.05277 84.2986 7.34397C84.4778 7.63517 84.6122 7.94317 84.7018 8.26797H83.5258C83.3578 7.88717 83.1114 7.56797 82.7866 7.31037C82.473 7.05277 82.0194 6.92397 81.4258 6.92397C80.709 6.92397 80.1154 7.17597 79.645 7.67997C79.1858 8.17277 78.9562 8.88957 78.9562 9.83037V10.5696C78.9562 11.0288 79.0178 11.4432 79.141 11.8128C79.2642 12.1712 79.4378 12.4736 79.6618 12.72C79.8858 12.9664 80.1434 13.1568 80.4346 13.2912C80.737 13.4144 81.0674 13.476 81.4258 13.476C82.0306 13.476 82.4898 13.3416 82.8034 13.0728C83.117 12.804 83.3578 12.4344 83.5258 11.964H84.7018C84.5338 12.7032 84.181 13.3136 83.6434 13.7952C83.1058 14.2768 82.3666 14.5176 81.4258 14.5176Z",fill:"white"}),i.createElement("path",{d:"M90.1078 14.5176C89.5702 14.5176 89.0774 14.428 88.6294 14.2488C88.1926 14.0696 87.8118 13.812 87.487 13.476C87.1734 13.14 86.927 12.7312 86.7478 12.2496C86.5798 11.7568 86.4958 11.1968 86.4958 10.5696V9.83037C86.4958 9.21437 86.5798 8.66557 86.7478 8.18397C86.927 7.69117 87.1734 7.27677 87.487 6.94077C87.8118 6.59357 88.1926 6.33037 88.6294 6.15117C89.0774 5.97197 89.5702 5.88237 90.1078 5.88237C90.5782 5.88237 90.9926 5.94397 91.351 6.06717C91.7206 6.19037 92.0398 6.36397 92.3086 6.58797C92.5886 6.80077 92.8126 7.05277 92.9806 7.34397C93.1598 7.63517 93.2942 7.94317 93.3838 8.26797H92.2078C92.0398 7.88717 91.7934 7.56797 91.4686 7.31037C91.155 7.05277 90.7014 6.92397 90.1078 6.92397C89.391 6.92397 88.7974 7.17597 88.327 7.67997C87.8678 8.17277 87.6382 8.88957 87.6382 9.83037V10.5696C87.6382 11.0288 87.6998 11.4432 87.823 11.8128C87.9462 12.1712 88.1198 12.4736 88.3438 12.72C88.5678 12.9664 88.8254 13.1568 89.1166 13.2912C89.419 13.4144 89.7494 13.476 90.1078 13.476C90.7126 13.476 91.1718 13.3416 91.4854 13.0728C91.799 12.804 92.0398 12.4344 92.2078 11.964H93.3838C93.2158 12.7032 92.863 13.3136 92.3254 13.7952C91.7878 14.2768 91.0486 14.5176 90.1078 14.5176Z",fill:"white"}),i.createElement("path",{d:"M98.7899 14.5176C97.6811 14.5176 96.8019 14.1816 96.1523 13.5096C95.5027 12.8264 95.1778 11.8464 95.1778 10.5696V9.83037C95.1778 8.56477 95.5027 7.59037 96.1523 6.90717C96.8131 6.22397 97.6923 5.88237 98.7899 5.88237C99.8875 5.88237 100.761 6.22397 101.411 6.90717C102.071 7.59037 102.402 8.56477 102.402 9.83037V10.5192H96.3203V10.5696C96.3203 11.544 96.5443 12.272 96.9923 12.7536C97.4403 13.2352 98.0395 13.476 98.7899 13.476C99.4843 13.476 100.011 13.3304 100.369 13.0392C100.739 12.748 101.007 12.384 101.175 11.9472H102.318C102.228 12.3056 102.094 12.6416 101.915 12.9552C101.735 13.2688 101.5 13.5432 101.209 13.7784C100.918 14.0024 100.571 14.1816 100.167 14.316C99.7643 14.4504 99.3051 14.5176 98.7899 14.5176ZM98.7899 6.92397C98.0619 6.92397 97.4795 7.15357 97.0427 7.61277C96.6171 8.06077 96.3763 8.70477 96.3203 9.54477H101.243C101.198 8.67117 100.951 8.01597 100.503 7.57917C100.067 7.14237 99.4955 6.92397 98.7899 6.92397Z",fill:"white"}),i.createElement("path",{d:"M108.718 14.5176C108.135 14.5176 107.62 14.4112 107.172 14.1984C106.724 13.9744 106.355 13.6328 106.063 13.1736V17.76H104.955V5.99997H105.811L105.946 7.41117C106.237 6.89597 106.612 6.51517 107.071 6.26877C107.542 6.01117 108.091 5.88237 108.718 5.88237C109.199 5.88237 109.642 5.96637 110.045 6.13437C110.448 6.30237 110.795 6.55437 111.087 6.89037C111.378 7.21517 111.602 7.62397 111.759 8.11677C111.927 8.60957 112.011 9.18077 112.011 9.83037V10.5696C112.011 11.208 111.927 11.7736 111.759 12.2664C111.602 12.7592 111.378 13.1736 111.087 13.5096C110.795 13.8456 110.448 14.0976 110.045 14.2656C109.642 14.4336 109.199 14.5176 108.718 14.5176ZM108.466 13.476C109.194 13.476 109.776 13.2408 110.213 12.7704C110.65 12.2888 110.868 11.5552 110.868 10.5696V9.83037C110.868 8.85597 110.644 8.12797 110.196 7.64637C109.759 7.16477 109.183 6.92397 108.466 6.92397C107.794 6.92397 107.228 7.15917 106.769 7.62957C106.321 8.09997 106.086 8.78877 106.063 9.69597V10.5696C106.063 11.5104 106.287 12.2328 106.735 12.7368C107.183 13.2296 107.76 13.476 108.466 13.476Z",fill:"white"}),i.createElement("path",{d:"M113.547 5.99997H115.059V3.64797H116.168V5.99997H118.419V7.00797H116.168V12.048C116.168 12.944 116.582 13.392 117.411 13.392H118.587V14.4H117.277C116.549 14.4 115.994 14.2152 115.614 13.8456C115.244 13.4648 115.059 12.9104 115.059 12.1824V7.00797H113.547V5.99997Z",fill:"white"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.90891 1.15009C4.08473 0.928688 4.35091 0.799805 4.63236 0.799805H13.8971C14.1785 0.799805 14.4447 0.928688 14.6205 1.15009L18.3264 5.81676C18.6213 6.18812 18.5919 6.72348 18.2581 7.05977L9.91982 15.4598C9.55802 15.8243 8.97141 15.8243 8.6096 15.4598L0.271363 7.05977C-0.0624492 6.72348 -0.0918824 6.18812 0.203025 5.81676L3.90891 1.15009Z",fill:"white"}))),m),i.createElement("div",{className:"content"},i.createElement("div",{className:"box"},o)),i.createElement("div",{className:"footer"},i.createElement("div",{className:"links"},i.createElement("a",{href:f},"Terms of use"),i.createElement("a",{href:b},"FAQ"),i.createElement("a",{href:N},"What are TIP-3 tokens?")),i.createElement("div",{className:"dev"},"Developed by ",i.createElement("a",{href:g},"Broxus"),". Powered by"," ",i.createElement("a",{href:_},"FreeTON"),"."))))},H=({orderId:e,storeIcon:n,description:t,amount:a,currency:s,hash:l,onClose:r})=>i.createElement(i.Fragment,null,i.createElement("div",{className:"invoice"},i.createElement(C,{lineWidth:279,orderId:e,storeIcon:n,isSuccess:!0},"Success")),i.createElement("div",{className:"cryptocurrencies"},i.createElement("div",{className:"subtitle"},i.createElement("span",null,"Thank you for your payment!")),i.createElement("p",null,"Please find details of your payment below."),i.createElement("div",{className:"info"},i.createElement("div",{className:"row"},i.createElement("div",{className:"label"},"Status"),i.createElement("div",{className:"data"},"Success")),i.createElement("div",{className:"row"},i.createElement("div",{className:"label"},"Order ID"),i.createElement("div",{className:"data"},e)),i.createElement("div",{className:"row"},i.createElement("div",{className:"label"},"Description"),i.createElement("div",{className:"data"},t)),i.createElement("div",{className:"row"},i.createElement("div",{className:"label"},"Amount"),i.createElement("div",{className:"data"},a," ",s)),i.createElement("div",{className:"row"},i.createElement("div",{className:"label"},"Transaction hash"),i.createElement("div",{className:"data with-tooltip"},`${l.slice(0,6)}...${l.slice(-6)}`,i.createElement("div",{className:"hidden-text centered",id:"copy"},l),i.createElement("a",{className:"external",href:`https://tonscan.io/transactions/${l}`,target:"_blank",rel:"noreferrer"},i.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("g",{id:"24 / basic / external-link"},i.createElement("path",{id:"icon",fillRule:"evenodd",clipRule:"evenodd",d:"M7.80279 9.13807L12.6647 4.27614V7.33333H13.9981V2H8.66472V3.33333H11.7219L6.85998 8.19526L7.80279 9.13807ZM12.6667 12.6667V9.33333H11.3333V12.6667H3.33333V4.66667H6.66667V3.33333H3.33333C2.59695 3.33333 2 3.93029 2 4.66667V12.6667C2 13.403 2.59695 14 3.33333 14H11.3333C12.0697 14 12.6667 13.403 12.6667 12.6667Z",fill:"#0088CC"})))),i.createElement("a",{className:"copy js-copy",onClick:()=>{const e=document.createElement("textarea");e.value=l,document.body.appendChild(e),e.select(),document.execCommand("Copy"),e.remove()}},i.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("g",{id:"24 / basic / copy"},i.createElement("path",{id:"icon",fillRule:"evenodd",clipRule:"evenodd",d:"M6.66683 1.33301H13.3335C14.1017 1.33301 14.6668 1.89815 14.6668 2.66634V9.33301C14.6668 10.1012 14.1017 10.6663 13.3335 10.6663H10.6668V13.333C10.6668 14.1012 10.1017 14.6663 9.3335 14.6663H2.66683C1.89864 14.6663 1.3335 14.1012 1.3335 13.333V6.66634C1.3335 5.89815 1.89864 5.33301 2.66683 5.33301H5.3335V2.66634C5.3335 1.89815 5.89864 1.33301 6.66683 1.33301ZM5.3335 6.66634H2.66683V13.333H9.3335V10.6663H6.66683C5.89864 10.6663 5.3335 10.1012 5.3335 9.33301V6.66634ZM6.66683 2.66634V9.33301H13.3335V2.66634H6.66683Z",fill:"#0088CC"})))))))),i.createElement("div",{className:"buttons"},i.createElement("span",null,"It is safe to close the window now."),i.createElement("a",{className:"button",onClick:r},"Close"))),V=({storeIcon:e,orderId:n,description:t,amount:a,onCancel:s,onRetry:l})=>i.createElement(i.Fragment,null,i.createElement("div",{className:"invoice"},i.createElement(C,{lineWidth:279,orderId:n,storeIcon:e},"Waiting for payment"),i.createElement(y,{amount:a,description:t})),i.createElement("div",{className:"cryptocurrencies with-separator"},i.createElement("div",{className:"subtitle"},i.createElement("span",null,"Please confirm payment in your Crystal Wallet")),i.createElement("p",null,"You shall now see the popup window of Crystal Wallet asking you to confirm the payment."),i.createElement("p",null,"If you donâ€™t see the window, click the Retry button below.")),i.createElement("div",{className:"buttons"},i.createElement("a",{className:"button transparent",onClick:s},"Cancel"),i.createElement("a",{className:"button",onClick:l},"Retry to connect")));var x="https://wintexpro.github.io/ton-accept/assets/default-currency.a19281c1.svg",L="https://wintexpro.github.io/ton-accept/assets/TON.018744b6.svg";const I='{\n    "ABI version": 2,\n    "header": ["pubkey", "time", "expire"],\n    "functions": [\n      {\n        "name": "constructor",\n        "inputs": [\n          {"name":"root_public_key_","type":"uint256"},\n          {"name":"root_owner_address_","type":"address"}\n        ],\n        "outputs": [\n        ]\n      },\n      {\n        "name": "getVersion",\n        "inputs": [\n          {"name":"_answer_id","type":"uint32"}\n        ],\n        "outputs": [\n          {"name":"value0","type":"uint32"}\n        ]\n      },\n      {\n        "name": "getDetails",\n        "inputs": [\n          {"name":"_answer_id","type":"uint32"}\n        ],\n        "outputs": [\n          {"components":[{"name":"name","type":"bytes"},{"name":"symbol","type":"bytes"},{"name":"decimals","type":"uint8"},{"name":"root_public_key","type":"uint256"},{"name":"root_owner_address","type":"address"},{"name":"total_supply","type":"uint128"}],"name":"value0","type":"tuple"}\n        ]\n      },\n      {\n        "name": "getTotalSupply",\n        "inputs": [\n          {"name":"_answer_id","type":"uint32"}\n        ],\n        "outputs": [\n          {"name":"value0","type":"uint128"}\n        ]\n      },\n      {\n        "name": "getWalletCode",\n        "inputs": [\n          {"name":"_answer_id","type":"uint32"}\n        ],\n        "outputs": [\n          {"name":"value0","type":"cell"}\n        ]\n      },\n      {\n        "name": "getWalletAddress",\n        "inputs": [\n          {"name":"_answer_id","type":"uint32"},\n          {"name":"wallet_public_key_","type":"uint256"},\n          {"name":"owner_address_","type":"address"}\n        ],\n        "outputs": [\n          {"name":"value0","type":"address"}\n        ]\n      },\n      {\n        "name": "sendExpectedWalletAddress",\n        "inputs": [\n          {"name":"wallet_public_key_","type":"uint256"},\n          {"name":"owner_address_","type":"address"},\n          {"name":"to","type":"address"}\n        ],\n        "outputs": [\n        ]\n      },\n      {\n        "name": "deployWallet",\n        "inputs": [\n          {"name":"tokens","type":"uint128"},\n          {"name":"deploy_grams","type":"uint128"},\n          {"name":"wallet_public_key_","type":"uint256"},\n          {"name":"owner_address_","type":"address"},\n          {"name":"gas_back_address","type":"address"}\n        ],\n        "outputs": [\n          {"name":"value0","type":"address"}\n        ]\n      },\n      {\n        "name": "deployEmptyWallet",\n        "inputs": [\n          {"name":"deploy_grams","type":"uint128"},\n          {"name":"wallet_public_key_","type":"uint256"},\n          {"name":"owner_address_","type":"address"},\n          {"name":"gas_back_address","type":"address"}\n        ],\n        "outputs": [\n          {"name":"value0","type":"address"}\n        ]\n      },\n      {\n        "name": "mint",\n        "inputs": [\n          {"name":"tokens","type":"uint128"},\n          {"name":"to","type":"address"}\n        ],\n        "outputs": [\n        ]\n      },\n      {\n        "name": "proxyBurn",\n        "inputs": [\n          {"name":"tokens","type":"uint128"},\n          {"name":"sender_address","type":"address"},\n          {"name":"send_gas_to","type":"address"},\n          {"name":"callback_address","type":"address"},\n          {"name":"callback_payload","type":"cell"}\n        ],\n        "outputs": [\n        ]\n      },\n      {\n        "name": "tokensBurned",\n        "inputs": [\n          {"name":"tokens","type":"uint128"},\n          {"name":"sender_public_key","type":"uint256"},\n          {"name":"sender_address","type":"address"},\n          {"name":"send_gas_to","type":"address"},\n          {"name":"callback_address","type":"address"},\n          {"name":"callback_payload","type":"cell"}\n        ],\n        "outputs": [\n        ]\n      },\n      {\n        "name": "sendSurplusGas",\n        "inputs": [\n          {"name":"to","type":"address"}\n        ],\n        "outputs": [\n        ]\n      },\n      {\n        "name": "setPaused",\n        "inputs": [\n          {"name":"value","type":"bool"}\n        ],\n        "outputs": [\n        ]\n      },\n      {\n        "name": "sendPausedCallbackTo",\n        "inputs": [\n          {"name":"callback_id","type":"uint64"},\n          {"name":"callback_addr","type":"address"}\n        ],\n        "outputs": [\n        ]\n      },\n      {\n        "name": "transferOwner",\n        "inputs": [\n          {"name":"root_public_key_","type":"uint256"},\n          {"name":"root_owner_address_","type":"address"}\n        ],\n        "outputs": [\n        ]\n      },\n      {\n        "name": "name",\n        "inputs": [\n        ],\n        "outputs": [\n          {"name":"name","type":"bytes"}\n        ]\n      },\n      {\n        "name": "symbol",\n        "inputs": [\n        ],\n        "outputs": [\n          {"name":"symbol","type":"bytes"}\n        ]\n      },\n      {\n        "name": "decimals",\n        "inputs": [\n        ],\n        "outputs": [\n          {"name":"decimals","type":"uint8"}\n        ]\n      },\n      {\n        "name": "start_gas_balance",\n        "inputs": [\n        ],\n        "outputs": [\n          {"name":"start_gas_balance","type":"uint128"}\n        ]\n      },\n      {\n        "name": "paused",\n        "inputs": [\n        ],\n        "outputs": [\n          {"name":"paused","type":"bool"}\n        ]\n      }\n    ],\n    "data": [\n      {"key":1,"name":"_randomNonce","type":"uint256"},\n      {"key":2,"name":"name","type":"bytes"},\n      {"key":3,"name":"symbol","type":"bytes"},\n      {"key":4,"name":"decimals","type":"uint8"},\n      {"key":5,"name":"wallet_code","type":"cell"}\n    ],\n    "events": [\n    ]\n}',S='{\n    "ABI version": 2,\n    "header": ["pubkey", "time", "expire"],\n    "functions": [\n      {\n        "name": "constructor",\n        "inputs": [\n        ],\n        "outputs": [\n        ]\n      },\n      {\n        "name": "getVersion",\n        "inputs": [\n          {"name":"_answer_id","type":"uint32"}\n        ],\n        "outputs": [\n          {"name":"value0","type":"uint32"}\n        ]\n      },\n      {\n        "name": "balance",\n        "inputs": [\n          {"name":"_answer_id","type":"uint32"}\n        ],\n        "outputs": [\n          {"name":"value0","type":"uint128"}\n        ]\n      },\n      {\n        "name": "getDetails",\n        "inputs": [\n          {"name":"_answer_id","type":"uint32"}\n        ],\n        "outputs": [\n          {"components":[{"name":"root_address","type":"address"},{"name":"wallet_public_key","type":"uint256"},{"name":"owner_address","type":"address"},{"name":"balance","type":"uint128"},{"name":"receive_callback","type":"address"},{"name":"bounced_callback","type":"address"},{"name":"allow_non_notifiable","type":"bool"}],"name":"value0","type":"tuple"}\n        ]\n      },\n      {\n        "name": "getWalletCode",\n        "inputs": [\n          {"name":"_answer_id","type":"uint32"}\n        ],\n        "outputs": [\n          {"name":"value0","type":"cell"}\n        ]\n      },\n      {\n        "name": "accept",\n        "inputs": [\n          {"name":"tokens","type":"uint128"}\n        ],\n        "outputs": [\n        ]\n      },\n      {\n        "name": "allowance",\n        "inputs": [\n          {"name":"_answer_id","type":"uint32"}\n        ],\n        "outputs": [\n          {"components":[{"name":"remaining_tokens","type":"uint128"},{"name":"spender","type":"address"}],"name":"value0","type":"tuple"}\n        ]\n      },\n      {\n        "name": "approve",\n        "inputs": [\n          {"name":"spender","type":"address"},\n          {"name":"remaining_tokens","type":"uint128"},\n          {"name":"tokens","type":"uint128"}\n        ],\n        "outputs": [\n        ]\n      },\n      {\n        "name": "disapprove",\n        "inputs": [\n        ],\n        "outputs": [\n        ]\n      },\n      {\n        "name": "transferToRecipient",\n        "inputs": [\n          {"name":"recipient_public_key","type":"uint256"},\n          {"name":"recipient_address","type":"address"},\n          {"name":"tokens","type":"uint128"},\n          {"name":"deploy_grams","type":"uint128"},\n          {"name":"transfer_grams","type":"uint128"},\n          {"name":"send_gas_to","type":"address"},\n          {"name":"notify_receiver","type":"bool"},\n          {"name":"payload","type":"cell"}\n        ],\n        "outputs": [\n        ]\n      },\n      {\n        "name": "transfer",\n        "inputs": [\n          {"name":"to","type":"address"},\n          {"name":"tokens","type":"uint128"},\n          {"name":"grams","type":"uint128"},\n          {"name":"send_gas_to","type":"address"},\n          {"name":"notify_receiver","type":"bool"},\n          {"name":"payload","type":"cell"}\n        ],\n        "outputs": [\n        ]\n      },\n      {\n        "name": "transferFrom",\n        "inputs": [\n          {"name":"from","type":"address"},\n          {"name":"to","type":"address"},\n          {"name":"tokens","type":"uint128"},\n          {"name":"grams","type":"uint128"},\n          {"name":"send_gas_to","type":"address"},\n          {"name":"notify_receiver","type":"bool"},\n          {"name":"payload","type":"cell"}\n        ],\n        "outputs": [\n        ]\n      },\n      {\n        "name": "internalTransfer",\n        "inputs": [\n          {"name":"tokens","type":"uint128"},\n          {"name":"sender_public_key","type":"uint256"},\n          {"name":"sender_address","type":"address"},\n          {"name":"send_gas_to","type":"address"},\n          {"name":"notify_receiver","type":"bool"},\n          {"name":"payload","type":"cell"}\n        ],\n        "outputs": [\n        ]\n      },\n      {\n        "name": "internalTransferFrom",\n        "inputs": [\n          {"name":"to","type":"address"},\n          {"name":"tokens","type":"uint128"},\n          {"name":"send_gas_to","type":"address"},\n          {"name":"notify_receiver","type":"bool"},\n          {"name":"payload","type":"cell"}\n        ],\n        "outputs": [\n        ]\n      },\n      {\n        "name": "burnByOwner",\n        "inputs": [\n          {"name":"tokens","type":"uint128"},\n          {"name":"grams","type":"uint128"},\n          {"name":"send_gas_to","type":"address"},\n          {"name":"callback_address","type":"address"},\n          {"name":"callback_payload","type":"cell"}\n        ],\n        "outputs": [\n        ]\n      },\n      {\n        "name": "burnByRoot",\n        "inputs": [\n          {"name":"tokens","type":"uint128"},\n          {"name":"send_gas_to","type":"address"},\n          {"name":"callback_address","type":"address"},\n          {"name":"callback_payload","type":"cell"}\n        ],\n        "outputs": [\n        ]\n      },\n      {\n        "name": "setReceiveCallback",\n        "inputs": [\n          {"name":"receive_callback_","type":"address"},\n          {"name":"allow_non_notifiable_","type":"bool"}\n        ],\n        "outputs": [\n        ]\n      },\n      {\n        "name": "setBouncedCallback",\n        "inputs": [\n          {"name":"bounced_callback_","type":"address"}\n        ],\n        "outputs": [\n        ]\n      },\n      {\n        "name": "destroy",\n        "inputs": [\n          {"name":"gas_dest","type":"address"}\n        ],\n        "outputs": [\n        ]\n      }\n    ],\n    "data": [\n      {"key":1,"name":"root_address","type":"address"},\n      {"key":2,"name":"code","type":"cell"},\n      {"key":3,"name":"wallet_public_key","type":"uint256"},\n      {"key":4,"name":"owner_address","type":"address"}\n    ],\n    "events": [\n    ]\n  }',A=async(e,n,t)=>{const a=await fetch("https://ton-swap-indexer.broxus.com/v1/pairs/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({currencyAddress:n,limit:1e3,offset:0,ordering:"tvlascending"})});return a.ok?(await a.json()).pairs.filter((n=>n.meta.base===e?t.find((e=>"0:"!==e.slice(0,2)||Number.isNaN(e.slice(2))?n.meta.counter===e:n.meta.counterAddress===e)):n.meta.counter===e&&t.find((e=>"0:"!==e.slice(0,2)||Number.isNaN(e.slice(2))?n.meta.base===e:n.meta.baseAddress===e)))).map((n=>n.meta.base===e?{code:n.meta.counter,price:+n.leftPrice/+n.rightPrice,address:n.meta.counterAddress}:{code:n.meta.base,price:+n.rightPrice/+n.leftPrice,address:n.meta.baseAddress})).filter((e=>e.price!==1/0&&e.price!==-1/0&&0!==e.price)):null};function M(){const[e,n]=d.exports.useState(null),[t,a]=d.exports.useState(!1),[s,l]=d.exports.useState(!1),[r,p]=d.exports.useState(!1),[y,C]=d.exports.useState(!1),[f,b]=d.exports.useState("TON"),[N,g]=d.exports.useState(0),[_,M]=d.exports.useState(null),[T,O]=d.exports.useState(null),[Z,P]=d.exports.useState(null),[W,R]=d.exports.useState(null),[B,F]=d.exports.useState(null),[$,j]=d.exports.useState(!0),[U,q]=d.exports.useState(!0),[D,G]=d.exports.useState(""),[z,J]=d.exports.useState(null),[K,Q]=d.exports.useState(null),[Y,X]=d.exports.useState(null),[ee,ne]=d.exports.useState(null),[te,ae]=d.exports.useState(null),[se,le]=d.exports.useState(null),[re,oe]=d.exports.useState(null),[ce,ie]=d.exports.useState(null),[de,me]=d.exports.useState(!0),ue=()=>{window.parent.postMessage({command:"failure",hash:te},"*")},pe=e=>{setTimeout((()=>ue()),e-Date.now())};d.exports.useEffect((()=>{window.addEventListener("message",(e=>{switch(e.data.command){case"setRequestPayment":e.data.request.validUntilUtc&&pe(e.data.request.validUntilUtc),P(e.data.request),M(e.data.config),O(e.data.addresses);break;case"setRequestMultiCurPayment":e.data.request.validUntilUtc&&pe(e.data.request.validUntilUtc),R(e.data.request),M(e.data.config),O(e.data.addresses)}}))}),[]);d.exports.useEffect((()=>{(async()=>{if(!(await u.hasTonProvider()))throw alert("TON Crystal Wallet is not installed"),ue(),new Error("TON Crystal Wallet is not installed");me(!1)})()}),[]);const ye=async e=>{const n=await(async()=>{const e=await fetch("https://raw.githubusercontent.com/broxus/ton-assets/master/manifest.json");return e.ok?e.json():(console.error(`getTokensInfo error: ${e.status}`),null)})();F(e.filter((e=>{const t=!!(null==n?void 0:n.tokens.find((n=>n.symbol===e))),a="0:"===e.slice(0,2)&&!Number.isNaN(e.slice(2));return t||"TON"===e||a||console.error(`"${e}" is not correct currency symbol`),"TON"===e||a||t}))),oe(n)};let Ce=!0;d.exports.useEffect((()=>{Ce&&_&&T&&(Z||W)&&(Ce=!1,_.currencies&&_.currencies.length<1?_.currenciesRemote?(async e=>{const n=await fetch(e);return n.ok?n.json():(console.error(`getCurrenciesRemote error: ${n.status}`),null)})(_.currenciesRemote).then((e=>{ye(e)})).catch((e=>console.error(e))):console.error("no currencies"):(null==W?void 0:W.price)?ye(Array.from(W.price).map((e=>e[0]))):_.currencies?ye(_.currencies):console.error("no currencies"))}),[_,T,Z,W]),d.exports.useEffect((()=>{if(!Z)return;const e=null==re?void 0:re.tokens.find((e=>e.symbol===(null==Z?void 0:Z.currency)));e&&Math.round(Z.amount*10**e.decimals)/e.decimals==0&&(me(!0),console.error("the price in the base currency is too small"),ue())}),[re]),d.exports.useEffect((()=>{re&&(async()=>{var e,n,t,a,s,l,r,i;if(W){if(W.orderId&&J(W.orderId),W.description&&Q(W.description),W.price){const n=Array.from(W.price.entries()).map((e=>{var n,t;return{currency:e[0],amount:e[1],label:"TON"===e[0]?"Native":"TIP-3",currencyAddress:"0:"!==e[0].slice(0,2)||Number.isNaN(+e[0].slice(2))?(null==(n=null==re?void 0:re.tokens.find((n=>n.symbol===e[0])))?void 0:n.address)||"":e[0],logo:"TON"===e[0]?L:(null==(t=null==re?void 0:re.tokens.find((n=>n.symbol===e[0])))?void 0:t.logoURI)||""}})).map((e=>{var n,t;return"0:"!==e.currency.slice(0,2)||Number.isNaN(e.currency.slice(2))?e:c(o({},e),{currency:(null==(n=null==re?void 0:re.tokens.find((n=>n.address===e.currency)))?void 0:n.symbol)||e.currency,logo:(null==(t=null==re?void 0:re.tokens.find((n=>n.address===e.currency)))?void 0:t.logoURI)||x})}));le(n);const t=W.baseCur;try{X((null==(e=n.find((e=>e.currency===t)))?void 0:e.amount)||0),ne(t)}catch(d){console.error(d)}j(!1)}}else{if(!Z||!B)throw Error();{Z.orderId&&J(Z.orderId),Z.description&&Q(Z.description),Z.amount&&X(Z.amount);let e,d=Z.currency;if(d){if(d="0:"===d.slice(0,2)?null==(n=null==re?void 0:re.tokens.find((e=>e.address===d)))?void 0:n.symbol:d,!d)throw Error("Invalid currency in requestPayment");await ne(d)}const m=await A(d,(null==(t=null==re?void 0:re.tokens.find((e=>e.symbol===d)))?void 0:t.address)||"",["WTON"]),u=m?m[0].price:null;if(u&&(null==m?void 0:m[0]))if(d&&"USDT"!==d)e=(null==(s=await A("WTON",(null==(a=null==re?void 0:re.tokens.find((e=>"WTON"===e.symbol)))?void 0:a.address)||"",B))?void 0:s.map((e=>c(o({},e),{price:e.price*u}))).concat(m[0]))||[];else{const n=await A(d||"USDT",(null==(l=null==re?void 0:re.tokens.find((e=>e.symbol===d)))?void 0:l.address)||"",B.map((e=>"TON"===e?"WTON":e)))||[],t=(null==(i=await A("WTON",(null==(r=null==re?void 0:re.tokens.find((e=>"WTON"===e.symbol)))?void 0:r.address)||"",B.filter((e=>!n.find((n=>n.code===e))))))?void 0:i.map((e=>c(o({},e),{price:e.price*u}))).concat(m[0]))||[];e=n.concat(t)}if(B){const n=B.map((n=>{var t,a;return"0:"!==n.slice(0,2)||Number.isNaN(n.slice(2))?n:(null==(t=null==e?void 0:e.find((e=>e.address===n)))?void 0:t.code)||(n===(null==(a=null==re?void 0:re.tokens.find((e=>e.symbol===d)))?void 0:a.address)?d:n)})).map((n=>{var t,a,s,l;const r=null==(t=null==e?void 0:e.find((e=>"TON"===n?"WTON"===e.code:e.code===n)))?void 0:t.price,o="TON"===n?9:(null==(a=null==re?void 0:re.tokens.find((e=>e.symbol===n)))?void 0:a.decimals)||1;return{currency:n,amount:n===d?Z.amount:r?Math.round(Z.amount*r*10**o)/10**o:0,label:"TON"===n?"Native":"TIP-3",currencyAddress:(null==(s=null==re?void 0:re.tokens.find((e=>e.symbol===n)))?void 0:s.address)||"",logo:"TON"===n?L:(null==(l=null==re?void 0:re.tokens.find((e=>e.symbol===n)))?void 0:l.logoURI)||x}})).filter((e=>{var n;const t="0:"===(null==(n=e.currency)?void 0:n.slice(0,2));return t&&console.error(`${e.currency} is not correct currency address`),!t})).filter((e=>e.amount!==1/0&&e.amount!==-1/0&&0!==e.amount));le(n),j(!1)}}}})()}),[re]);const ve=async(n,t)=>{var a,s,r;p(!0);const o=null==(a=null==se?void 0:se.find((e=>e.currency===n)))?void 0:a.amount;if(T&&e&&o){const a=T[Math.floor(Math.random()*T.length)];try{"TON"===n?await(async({from:e,to:n,amount:t,onSuccess:a})=>{const{transaction:s}=await m.rawApi.sendMessage({sender:e,recipient:n,amount:String(Math.round(1e9*t)),bounce:!1});a(s.id.hash)})({from:e,to:a,amount:o,onSuccess:e=>{ae(e),C(!0),l(!0)}}):await(async({from:e,to:n,amount:t,currencyAddress:a,onSuccess:s,onEnd:l})=>{const{output:r}=await m.rawApi.runLocal({address:a,functionCall:{abi:I,method:"getWalletAddress",params:{_answer_id:1,wallet_public_key_:"0",owner_address_:e}}}),o=r&&String(null==r?void 0:r.value0),{output:c}=await m.rawApi.runLocal({address:a,functionCall:{abi:I,method:"getWalletAddress",params:{_answer_id:1,wallet_public_key_:"0",owner_address_:n}}}),i=c&&String(null==c?void 0:c.value0),{output:d}=await m.rawApi.runLocal({address:a,functionCall:{abi:I,method:"decimals",params:{}}}),p=null==d?void 0:d.decimals;if(o&&i&&p){const a=new u.Subscriber(m);let r=!0;try{await m.rawApi.runLocal({address:i,functionCall:{abi:S,method:"getDetails",params:{_answer_id:1}}})}catch(y){if(2!==y.code||"runLocal: Account not found"!==y.message&&"runLocal: Account is not deployed"!==y.message)throw y;r=!1}const c=1e8,d=1e8;await m.rawApi.sendMessage({sender:e,recipient:o,amount:String(1e8+(r?0:c)+d),bounce:!1,payload:{abi:S,method:"transferToRecipient",params:{recipient_public_key:"0",recipient_address:n,tokens:String(Math.round(t*10**+p)),deploy_grams:r?"0":c,transfer_grams:d,send_gas_to:e,notify_receiver:!0,payload:""}}}),await a.transactions(o).makeProducer((async e=>{e.transactions[0].aborted||e.transactions[0].outMessages[0].bounced||s(e.transactions[0].id.hash),l()}),(()=>{}))}})({from:e,to:a,amount:o,currencyAddress:t,onSuccess:e=>{ae(e),C(!0)},onEnd:()=>l(!0)})}catch(c){console.error(c),"The request was rejected; please try again"!==c.message?l(!0):ie({currencyCode:n,currencyAddress:t})}finally{b(n),g(o),G((null==(r=null==(s=await m.getFullContractState({address:e}))?void 0:s.state)?void 0:r.balance)||"")}}},Ee=()=>{q(!0),a(!0),async function(){var e,t;await m.ensureInitialized();const{accountInteraction:a}=await m.rawApi.requestPermissions({permissions:["tonClient","accountInteraction"]});if(null==a)throw new Error("Insufficient permissions");n(a.address),G((null==(t=null==(e=await m.getFullContractState({address:a.address}))?void 0:e.state)?void 0:t.balance)||"")}().catch((e=>{console.error(e),a(!1)})).then((()=>q(!1)))};return d.exports.useEffect((()=>{t||(m.disconnect(),l(!1),p(!1),C(!1))}),[t]),$?i.createElement(i.Fragment,null):/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(navigator.userAgent)?i.createElement(h,{orderId:z||0,storeAddress:null==_?void 0:_.storeAddress,storeName:null==_?void 0:_.storeName,storeIcon:null==_?void 0:_.storeIcon,onClose:ue}):de?i.createElement(i.Fragment,null):null!==Y&&null!==ee&&null!==z&&null!==K&&null!==se&&se.length>=1?i.createElement(k,{isSkeleton:U,isConnected:t,amount:+D/1e9,currency:"TON",address:e||"",onExit:()=>{a(!1)},onConnect:Ee},i.createElement(i.Fragment,null,!t&&i.createElement(v,{storeName:null==_?void 0:_.storeName,storeAddress:null==_?void 0:_.storeAddress,storeIcon:null==_?void 0:_.storeIcon,orderId:z,description:K,amount:Y,onCancel:ue,onConnect:Ee}),t&&!s&&(r?i.createElement(V,{storeIcon:null==_?void 0:_.storeIcon,orderId:z,description:K,amount:Y,onCancel:ue,onRetry:()=>{("TON"===(null==ce?void 0:ce.currencyCode)||(null==ce?void 0:ce.currencyCode)&&(null==ce?void 0:ce.currencyAddress))&&ve(ce.currencyCode,ce.currencyAddress)}}):i.createElement(w,{isSkeleton:U,storeName:null==_?void 0:_.storeName,storeAddress:null==_?void 0:_.storeAddress,storeIcon:null==_?void 0:_.storeIcon,orderId:z,description:K,amount:Y,currencies:se,onCancel:ue,onPay:ve})),t&&s&&(y?i.createElement(H,{orderId:z,storeIcon:null==_?void 0:_.storeIcon,description:K,amount:N,currency:f,hash:te,onClose:()=>{window.parent.postMessage({command:"success",hash:te},"*")}}):i.createElement(E,{storeIcon:null==_?void 0:_.storeIcon,orderId:z,onClose:ue,onGoBack:()=>{p(!1),l(!1),C(!1)}})))):i.createElement("div",null,"Error")}p.render(i.createElement(i.StrictMode,null,i.createElement(M,null)),document.getElementById("root"));
